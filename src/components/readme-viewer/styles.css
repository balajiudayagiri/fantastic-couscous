/* Base Container */
.preview {
    @apply text-start w-full p-4 sm:p-6 lg:p-8 text-gray-200 max-w-full overflow-hidden;
}

/* Headings */
.preview h1 {
    @apply text-2xl sm:text-3xl md:text-4xl font-bold mb-4 sm:mb-6 bg-gradient-to-r from-indigo-500 to-violet-500 bg-clip-text text-transparent tracking-tight;
}

.preview h2 {
    @apply text-xl sm:text-2xl font-semibold mb-3 sm:mb-4 text-gray-100 border-b border-gray-800 pb-2 mt-8;
}

.preview h3 {
    @apply text-lg sm:text-xl font-medium mb-2 sm:mb-3 text-gray-200 mt-6;
}

.preview h4 {
    @apply text-base sm:text-lg font-medium mb-2 text-gray-300 mt-4;
}

/* Paragraphs and Text */
.preview p {
    @apply text-sm sm:text-base leading-relaxed mb-4 text-gray-300;
}

/* Links */
.preview a {
    @apply text-indigo-400 hover:text-indigo-300 transition-colors underline decoration-indigo-500/30 hover:decoration-indigo-500 underline-offset-2;
}

/* Inline Code */
.preview :not(pre)>code {
    @apply bg-gray-800/50 px-1.5 py-0.5 rounded-md font-mono text-sm text-indigo-300 border border-indigo-500/20 backdrop-blur-sm;
}

/* Code Blocks */
.preview pre {
    @apply my-4 sm:my-6 rounded-xl backdrop-blur-sm border border-indigo-500/20 bg-gray-900/50 relative;
}

/* Code Block Copy Button */
.preview pre:hover button {
    @apply opacity-100;
}

.preview pre button {
    @apply opacity-0 transition-all duration-200 absolute top-3 right-3 bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-300 p-1.5 sm:p-2 rounded-lg backdrop-blur-sm border border-indigo-500/20 text-sm z-10;
}

.preview pre>div {
    @apply overflow-x-auto;
}

.preview pre code {
    @apply block p-4 sm:p-6 text-sm sm:text-base font-mono text-gray-300 bg-transparent border-0;
}

.preview pre button {
    @apply opacity-0 group-hover:opacity-100 transition-all duration-200 absolute top-3 right-3 bg-indigo-500/20 hover:bg-indigo-500/30 text-indigo-300 p-1.5 sm:p-2 rounded-lg backdrop-blur-sm border border-indigo-500/20 text-sm z-10;
}

/* Lists */
.preview ul {
    @apply pl-4 sm:pl-6 mb-4 space-y-1.5 sm:space-y-2 text-gray-300 text-sm sm:text-base list-disc marker:text-indigo-500;
}

.preview ol {
    @apply pl-4 sm:pl-6 mb-4 space-y-1.5 sm:space-y-2 text-gray-300 text-sm sm:text-base list-decimal marker:text-indigo-500;
}

.preview li>ul,
.preview li>ol {
    @apply mt-2 mb-0;
}

/* Blockquotes */
.preview blockquote {
    @apply pl-4 sm:pl-6 border-l-4 border-indigo-500/50 my-4 sm:my-6 italic text-gray-400 bg-indigo-500/5 py-3 pr-4 sm:pr-6 rounded-r-lg text-sm sm:text-base;
}

/* Tables */
.preview table {
    @apply min-w-full my-4 sm:my-6 border-collapse;
}

.preview table-container {
    @apply w-full overflow-x-auto rounded-lg border border-gray-800;
}

.preview th {
    @apply bg-gray-800/50 text-gray-200 p-3 sm:p-4 text-left border-b border-gray-700 font-semibold whitespace-nowrap;
}

.preview td {
    @apply p-3 sm:p-4 border-b border-gray-800 text-gray-300 group-hover:bg-gray-800/20;
}

/* Images */
.preview img {
    @apply max-w-full h-auto rounded-lg my-4 sm:my-6 border border-gray-800 hover:border-indigo-500/30 transition-colors;
}

/* Task Lists */
.preview input[type="checkbox"] {
    @apply mr-2 accent-indigo-500 rounded;
}

/* Definition Lists */
.preview dl {
    @apply mb-4 sm:mb-6;
}

.preview dt {
    @apply font-semibold text-indigo-400 mb-1;
}

.preview dd {
    @apply ml-4 sm:ml-6 mb-3 text-gray-300;
}

/* Horizontal Rule */
.preview hr {
    @apply my-8 sm:my-10 border-gray-800;
}

/* Details/Summary */
.preview details {
    @apply mb-4 sm:mb-6 rounded-lg border border-gray-800/50;
}

.preview summary {
    @apply cursor-pointer text-indigo-400 hover:text-indigo-300 transition-colors p-3 sm:p-4 font-medium;
}

.preview details[open] summary {
    @apply border-b border-gray-800/50;
}

.preview details>*:not(summary) {
    @apply p-3 sm:p-4;
}

/* Selection */
.preview ::selection {
    @apply bg-indigo-500/30 text-white;
}

/* Custom Scrollbars */
@media (min-width: 640px) {
    .preview ::-webkit-scrollbar {
        @apply w-2 h-2;
    }

    .preview ::-webkit-scrollbar-track {
        @apply bg-transparent;
    }

    .preview ::-webkit-scrollbar-thumb {
        @apply bg-indigo-500/20 rounded-full hover:bg-indigo-500/30 transition-colors;
    }
}

/* Keyboard Input */
.preview kbd {
    @apply px-2 py-1 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-300 rounded-lg shadow dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700;
}

/* Abbreviations */
.preview abbr {
    @apply cursor-help border-b-2 border-dotted border-indigo-500/50;
}

/* Code Language Badge */
.preview pre:before {
    @apply absolute top-3 left-3 text-xs text-gray-500 font-mono z-10;
    content: attr(data-language);
}

/* Table of Contents */
.preview .table-of-contents {
    @apply my-6 p-4 rounded-lg border border-gray-800 bg-gray-900/30;
}

.preview .table-of-contents ul {
    @apply list-none pl-0 space-y-1;
}

.preview .table-of-contents ul ul {
    @apply pl-4;
}

/* Footnotes */
.preview .footnotes {
    @apply mt-8 pt-4 border-t border-gray-800;
}

.preview .footnotes ol {
    @apply text-sm text-gray-400;
}

.preview .footnote-ref {
    @apply text-indigo-400 text-xs align-super;
}

/* Copy Button Animation */
.preview pre button:active {
    @apply transform scale-95;
}

/* Mobile Optimizations */
@media (max-width: 640px) {
    .preview {
        @apply px-3;
    }

    .preview pre {
        @apply -mx-3 rounded-none;
    }

    .preview table-container {
        @apply -mx-3 rounded-none;
    }
}